"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[71526],{15680:(e,r,t)=>{t.d(r,{xA:()=>c,yg:()=>g});var n=t(96540);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function i(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var o=n.createContext({}),u=function(e){var r=n.useContext(o),t=r;return e&&(t="function"==typeof e?e(r):l(l({},r),e)),t},c=function(e){var r=u(e.components);return n.createElement(o.Provider,{value:r},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,s=e.originalType,o=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=u(t),m=a,g=p["".concat(o,".").concat(m)]||p[m]||d[m]||s;return t?n.createElement(g,l(l({ref:r},c),{},{components:t})):n.createElement(g,l({ref:r},c))}));function g(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var s=t.length,l=new Array(s);l[0]=m;var i={};for(var o in r)hasOwnProperty.call(r,o)&&(i[o]=r[o]);i.originalType=e,i[p]="string"==typeof e?e:a,l[1]=i;for(var u=2;u<s;u++)l[u]=t[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},71385:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>u});var n=t(58168),a=(t(96540),t(15680));const s={title:"Overview",sidebar_position:1},l=void 0,i={unversionedId:"modules/tubemq/tubemq-manager/overview",id:"version-2.2.0/modules/tubemq/tubemq-manager/overview",title:"Overview",description:"Operation interface",source:"@site/versioned_docs/version-2.2.0/modules/tubemq/tubemq-manager/overview.md",sourceDirName:"modules/tubemq/tubemq-manager",slug:"/modules/tubemq/tubemq-manager/overview",permalink:"/docs/modules/tubemq/tubemq-manager/overview",draft:!1,editUrl:"https://github.com/apache/inlong-website/edit/master/versioned_docs/version-2.2.0/modules/tubemq/tubemq-manager/overview.md",tags:[],version:"2.2.0",sidebarPosition:1,frontMatter:{title:"Overview",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Consumer Example",permalink:"/docs/modules/tubemq/consumer_example"},next:{title:"Deployment",permalink:"/docs/modules/tubemq/tubemq-manager/deployment"}},o={},u=[{value:"cluster",id:"cluster",level:4},{value:"Topic",id:"topic",level:4},{value:"Add topicTask",id:"add-topictask",level:5},{value:"Query whether a topic is successfully created (business can be written)",id:"query-whether-a-topic-is-successfully-created-business-can-be-written",level:5}],c={toc:u},p="wrapper";function d(e){let{components:r,...t}=e;return(0,a.yg)(p,(0,n.A)({},c,t,{components:r,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"Operation interface"),(0,a.yg)("h4",{id:"cluster"},"cluster"),(0,a.yg)("p",null,"Query full data of clusterId and clusterName (get)"),(0,a.yg)("p",null,"Example:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"curl -X GET /v1/cluster\n")),(0,a.yg)("p",null,"Return Value:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "errMsg": "",\n  "errCode": 0,\n  "result": true,\n  "data": "[{\\"clusterId\\":1,\\"clusterName\\":\\"1124\\", \\"masterIp\\":\\"127.0.0.1\\"}]"\n}\n')),(0,a.yg)("h4",{id:"topic"},"Topic"),(0,a.yg)("h5",{id:"add-topictask"},"Add topicTask"),(0,a.yg)("p",null,"Parameter:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-text"},"type     (required) request type, fill in the field: op_query\nclusterId   (required) Request cluster id\naddTopicTasks (required) topicTasks, create task task json\nuser    (required) After the access authorization verification needs to verify the user, it is reserved here\n")),(0,a.yg)("p",null,"addTopicTasks currently only includes one field as topicName\nAfter accessing the region design, a new region field will be added to represent brokers in different regions\nCurrently an addTopicTask will create topics in all brokers in the cluster"),(0,a.yg)("p",null,"AddTopicTasks is a list of the following objects, which can carry multiple create topic requests"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"topicName (required) topic name\n")),(0,a.yg)("p",null,"Example:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},'curl -X POST /v1/task?method=addTopicTask -H "Content-Type: application/json" -d \'{\n  "clusterId": "1",\n  "addTopicTasks": [\n    {\n      "topicName": "1"\n    }\n  ],\n  "user": "test"\n}\'\n')),(0,a.yg)("p",null,"Return Json:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "errMsg": "There are topic tasks [a12322] already in adding status",\n  "errCode": 200,\n  "result": false,\n  "data": ""\n}\n')),(0,a.yg)("p",null,"If result is false, the writing task failed"),(0,a.yg)("h5",{id:"query-whether-a-topic-is-successfully-created-business-can-be-written"},"Query whether a topic is successfully created (business can be written)"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-text"},"clusterId   (Required) Request cluster id\ntopicName   (Required) Query topic name\nuser    (Required) After the access authorization verification needs to verify the user, it is reserved here\n")),(0,a.yg)("p",null,"Example:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},'curl -X POST /v1/topic?method=queryCanWrite -H "Content-Type: application/json" -d \'{\n  "clusterId": "1",\n  "topicName": "1",\n  "user": "test"\n}\'\n')),(0,a.yg)("p",null,"Return Json: "),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{ \n  "result":true, \n  "errCode":0, \n  "errMsg":"OK"\n}\n')),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{ \n  "result":false, \n  "errCode": 100, \n  "errMsg":"topic test is not writable"\n}\n')),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{ \n  "result":false, \n  "errCode": 101, \n  "errMsg":"no such topic in master"\n}\n')),(0,a.yg)("p",null,"Result is false as not writable."))}d.isMDXComponent=!0}}]);