"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[16793],{15680:(t,e,n)=>{n.d(e,{xA:()=>p,yg:()=>s});var a=n(296540);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var g=a.createContext({}),m=function(t){var e=a.useContext(g),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},p=function(t){var e=m(t.components);return a.createElement(g.Provider,{value:e},t.children)},d="mdxType",u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},y=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,g=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),d=m(n),y=r,s=d["".concat(g,".").concat(y)]||d[y]||u[y]||l;return n?a.createElement(s,i(i({ref:e},p),{},{components:n})):a.createElement(s,i({ref:e},p))}));function s(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=y;var o={};for(var g in e)hasOwnProperty.call(e,g)&&(o[g]=e[g]);o.originalType=t,o[d]="string"==typeof t?t:r,i[1]=o;for(var m=2;m<l;m++)i[m]=n[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}y.displayName="MDXCreateElement"},467220:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>g,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>m});var a=n(58168),r=(n(296540),n(15680));const l={title:"Pulsar To Hive Example",sidebar_position:3},i=void 0,o={unversionedId:"modules/sort-standalone/pulsar2hive",id:"version-2.2.0/modules/sort-standalone/pulsar2hive",title:"Pulsar To Hive Example",description:"Prepare To Get Module Archive",source:"@site/versioned_docs/version-2.2.0/modules/sort-standalone/pulsar2hive.md",sourceDirName:"modules/sort-standalone",slug:"/modules/sort-standalone/pulsar2hive",permalink:"/docs/2.2.0/modules/sort-standalone/pulsar2hive",draft:!1,editUrl:"https://github.com/apache/inlong-website/edit/master/versioned_docs/version-2.2.0/modules/sort-standalone/pulsar2hive.md",tags:[],version:"2.2.0",sidebarPosition:3,frontMatter:{title:"Pulsar To Hive Example",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Deployment",permalink:"/docs/2.2.0/modules/sort-standalone/deployment"},next:{title:"Pulsar To Elasticsearch Example",permalink:"/docs/2.2.0/modules/sort-standalone/pulsar2es"}},g={},m=[{value:"Prepare To Get Module Archive",id:"prepare-to-get-module-archive",level:2},{value:"Prepare To Modify Configuration File",id:"prepare-to-modify-configuration-file",level:2},{value:"Example: conf/common.properties",id:"example-confcommonproperties",level:3},{value:"Example: conf/SortClusterConfig.conf",id:"example-confsortclusterconfigconf",level:3},{value:"Example: conf/sid_hive_inlong6th_v3.conf",id:"example-confsid_hive_inlong6th_v3conf",level:3},{value:"Configuration For conf/common.properties",id:"configuration-for-confcommonproperties",level:2},{value:"Configuration For SortClusterConfig.conf",id:"configuration-for-sortclusterconfigconf",level:2},{value:"Configuration For SortTaskConfig",id:"configuration-for-sorttaskconfig",level:3},{value:"IdParams Configuration For Sort-Hive Task",id:"idparams-configuration-for-sort-hive-task",level:3},{value:"SinkParams Configuration For Sort-Hive Task",id:"sinkparams-configuration-for-sort-hive-task",level:3},{value:"<code>sid_hive_inlong6th_v3.conf</code> Configuration For Sort-Hive Task",id:"sid_hive_inlong6th_v3conf-configuration-for-sort-hive-task",level:2},{value:"Configuration For sid_hive_inlong6th_v3.conf",id:"configuration-for-sid_hive_inlong6th_v3conf",level:3},{value:"Configuration For CacheCluster",id:"configuration-for-cachecluster",level:3},{value:"Configuration For Topic",id:"configuration-for-topic",level:3},{value:"Start inlong-sort-standalone Application",id:"start-inlong-sort-standalone-application",level:2}],p={toc:m},d="wrapper";function u(t){let{components:e,...n}=t;return(0,r.yg)(d,(0,a.A)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"prepare-to-get-module-archive"},"Prepare To Get Module Archive"),(0,r.yg)("p",null,"Module archive is in the directory:",(0,r.yg)("inlineCode",{parentName:"p"},"inlong-sort-standalone/sort-standalone-dist/target/"),", the archive file is ",(0,r.yg)("inlineCode",{parentName:"p"},"apache-inlong-sort-standalone-${project.version}-bin.tar.gz"),"."),(0,r.yg)("h2",{id:"prepare-to-modify-configuration-file"},"Prepare To Modify Configuration File"),(0,r.yg)("p",null,"At first, decompress the archive file, copy three files in the directory ",(0,r.yg)("inlineCode",{parentName:"p"},"conf/hive/")," to the directory ",(0,r.yg)("inlineCode",{parentName:"p"},"conf/"),"."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"conf/common.properties, common configuration of all components."),(0,r.yg)("li",{parentName:"ul"},"conf/SortClusterConfig.conf, sink configuration of all sort tasks."),(0,r.yg)("li",{parentName:"ul"},"conf/sid_hive_inlong6th_v3.conf, data source configuration example of a sort task, the file name is same with sort task name in SortClusterConfig.conf.")),(0,r.yg)("h3",{id:"example-confcommonproperties"},"Example: conf/common.properties"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-properties"},"# inlong-sort-standalone cluster id\nclusterId=hivev3-sz-sz1\n# Current node ID\nnodeId=nodeId\n# Domain name of metric \nmetricDomains=Sort\n# Class name list of metric listener, separated by space\nmetricDomains.Sort.domainListeners=org.apache.inlong.sort.standalone.metrics.prometheus.PrometheusMetricListener\n# Interval snapshoting metric data(millisecond)\nmetricDomains.Sort.snapshotInterval=60000\n# Channel class name \nsortChannel.type=org.apache.inlong.sort.standalone.channel.BufferQueueChannel\n# Sink class name. Different distribution types use different Sink classes \nsortSink.type=org.apache.inlong.sort.standalone.sink.hive.HiveSink\n# Source class name \nsortSource.type=org.apache.inlong.sort.standalone.source.sortsdk.SortSdkSource\n# There are three ways to load cluster configuration data: [file, Manager, custom class].\nsortClusterConfig.type=file\n# When the cluster configuration data is loaded from a file, the name of the configuration file in the classpath\nsortClusterConfig.file=SortClusterConfig.conf\n# There are three ways to load the Sort task configuration data: [file, Manager, custom class]\nsortSourceConfig.QueryConsumeConfigType=file\n")),(0,r.yg)("h3",{id:"example-confsortclusterconfigconf"},"Example: conf/SortClusterConfig.conf"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "clusterName": "hivev3-sz-sz1",\n    "sortTasks": [\n      {\n        "idParams": [\n          {\n            "inlongGroupId": "0fc00000046",\n            "inlongStreamId": "",\n            "separator": "|",\n            "partitionIntervalMs": 3600000,\n            "idRootPath": "/user/hive/warehouse/t_inlong_v1_0fc00000046",\n            "partitionSubPath": "/{yyyyMMdd}/{yyyyMMddHH}",\n            "hiveTableName": "t_inlong_v1_0fc00000046",\n            "partitionFieldName": "dt",\n            "partitionFieldPattern": "yyyyMMddHH",\n            "msgTimeFieldPattern": "yyyy-MM-dd HH:mm:ss",\n            "maxPartitionOpenDelayHour": 8\n          },\n          {\n            "inlongGroupId": "03600000045",\n            "inlongStreamId": "",\n            "separator": "|",\n            "partitionIntervalMs": 3600000,\n            "idRootPath": "/user/hive/warehouse/t_inlong_v1_03600000045",\n            "partitionSubPath": "/{yyyyMMdd}/{yyyyMMddHH}",\n            "hiveTableName": "t_inlong_v1_03600000045",\n            "partitionFieldName": "dt",\n            "partitionFieldPattern": "yyyyMMddHH",\n            "msgTimeFieldPattern": "yyyy-MM-dd HH:mm:ss",\n            "maxPartitionOpenDelayHour": 8\n          },\n          {\n            "inlongGroupId": "05100054990",\n            "inlongStreamId": "",\n            "separator": "|",\n            "partitionIntervalMs": 3600000,\n            "idRootPath": "/user/hive/warehouse/t_inlong_v1_05100054990",\n            "partitionSubPath": "/{yyyyMMdd}/{yyyyMMddHH}",\n            "hiveTableName": "t_inlong_v1_05100054990",\n            "partitionFieldName": "dt",\n            "partitionFieldPattern": "yyyyMMddHH",\n            "msgTimeFieldPattern": "yyyy-MM-dd HH:mm:ss",\n            "maxPartitionOpenDelayHour": 8\n          },\n          {\n            "inlongGroupId": "09c00014434",\n            "inlongStreamId": "",\n            "separator": "|",\n            "partitionIntervalMs": 3600000,\n            "idRootPath": "/user/hive/warehouse/t_inlong_v1_09c00014434",\n            "partitionSubPath": "/{yyyyMMdd}/{yyyyMMddHH}",\n            "hiveTableName": "t_inlong_v1_09c00014434",\n            "partitionFieldName": "dt",\n            "partitionFieldPattern": "yyyyMMddHH",\n            "msgTimeFieldPattern": "yyyy-MM-dd HH:mm:ss",\n            "maxPartitionOpenDelayHour": 8\n          },\n          {\n            "inlongGroupId": "0c900035509",\n            "inlongStreamId": "",\n            "separator": "|",\n            "partitionIntervalMs": 3600000,\n            "idRootPath": "/user/hive/warehouse/t_inlong_v1_0c900035509",\n            "partitionSubPath": "/{yyyyMMdd}/{yyyyMMddHH}",\n            "hiveTableName": "t_inlong_v1_0c900035509",\n            "partitionFieldName": "dt",\n            "partitionFieldPattern": "yyyyMMddHH",\n            "msgTimeFieldPattern": "yyyy-MM-dd HH:mm:ss",\n            "maxPartitionOpenDelayHour": 8\n          }\n        ],\n        "name": "sid_hive_inlong6th_v3",\n        "sinkParams": {\n          "hdfsPath": "hdfs://127.0.0.1:9000",\n          "maxFileOpenDelayMinute": "5",\n          "tokenOvertimeMinute": "60",\n          "maxOutputFileSizeGb": "2",\n          "hiveJdbcUrl": "jdbc:hive2://127.0.0.2:10000",\n          "hiveDatabase": "default",\n          "hiveUsername": "hive",\n          "hivePassword": "hive"\n        },\n        "type": "HIVE"\n      }\n    ]\n  },\n  "errCode": 0,\n  "md5": "md5",\n  "result": true\n}\n')),(0,r.yg)("h3",{id:"example-confsid_hive_inlong6th_v3conf"},"Example: conf/sid_hive_inlong6th_v3.conf"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "sortClusterName": "hivev3-sz-sz1",\n  "sortTaskId": "sid_hive_inlong6th_v3",\n  "cacheZones": {\n    "pc_inlong6th_sz1": {\n      "zoneName": "${PULSAR_CLUSTER_NAME}",\n      "serviceUrl": "http://${PULSAR_IP}:${PULSAR_PORT}",\n      "authentication": "${PULSAR_AUTH}",\n      "topics": [\n        {\n          "topic": "${TENANT/NAMESPACE/TOPIC}",\n          "partitionCnt": 10,\n          "topicProperties": {}\n        }\n      ],\n      "cacheZoneProperties": {},\n      "zoneType": "pulsar"\n    }\n  }\n}\n')),(0,r.yg)("h2",{id:"configuration-for-confcommonproperties"},"Configuration For conf/common.properties"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Parameter"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"DefaultValue"),(0,r.yg)("th",{parentName:"tr",align:null},"Remark"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"clusterId"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"inlong-sort-standalone collection unique identification")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"nodeId"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"Localhost IP"),(0,r.yg)("td",{parentName:"tr",align:null},"Current node ID")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"metricDomains"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"Sort"),(0,r.yg)("td",{parentName:"tr",align:null},"Index summary name")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"metricDomains.Sort.domainListeners"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"org.apache.inlong.sort.standalone.metrics.prometheus.PrometheusMetricListener"),(0,r.yg)("td",{parentName:"tr",align:null},"List of indexes and list of equipment categories, empty case interval")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"metricDomains.Sort.snapshotInterval"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"60000"),(0,r.yg)("td",{parentName:"tr",align:null},"The retry timeout for subscribing to a tube, in ms")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"prometheusHttpPort"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"8080"),(0,r.yg)("td",{parentName:"tr",align:null},"Parameters of org.apache.inlong.sort.standalone.metrics.prometheus.PrometheusMetricListener, HttpServer port of Prometheus")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortChannel.type"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"org.apache.inlong.sort.standalone.channel.BufferQueueChannel"),(0,r.yg)("td",{parentName:"tr",align:null},"Channel type")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortSink.type"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Sink class name. Different distribution types use different Sink classes.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortSource.type"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"org.apache.inlong.sort.standalone.source.sortsdk.SortSdkSource"),(0,r.yg)("td",{parentName:"tr",align:null},"Source class name")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortClusterConfig.type"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"manager"),(0,r.yg)("td",{parentName:"tr",align:null},"There are three ways to load cluster configuration data: ","[file, Manager, custom class]",".")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortClusterConfig.file"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"SortClusterConfig.conf"),(0,r.yg)("td",{parentName:"tr",align:null},"When the cluster configuration data is loaded from a file, the name of the configuration file in the classpath")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortClusterConfig.managerUrl"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"When the cluster configuration data is loaded from the manager, define the URL of InlongManager here",(0,r.yg)("br",null),"For example: http://${manager ip:port}/api/inlong/manager/openapi/sort/standalone/getClusterConfig")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortSourceConfig.QueryConsumeConfigType"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"manager"),(0,r.yg)("td",{parentName:"tr",align:null},"There are three ways to load the Sort task configuration data: ","[file, Manager, custom class]",". ",(0,r.yg)("br",null)," If the loading path is file, the Sort task configuration file is in the class path, and the file name format is: ",(0,r.yg)("inlineCode",{parentName:"td"},"${sortTaskId}.conf"),".")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortSourceConfig.managerUrl"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"When the Sort task configuration data loading source is manager, define the URL of InlongManager here",(0,r.yg)("br",null),"For example::http://${manager ip:port}/api/inlong/manager/openapi/sort/standalone/getSortSource")))),(0,r.yg)("h2",{id:"configuration-for-sortclusterconfigconf"},"Configuration For SortClusterConfig.conf"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"SortClusterConfig.conf source file in ClassPath, but does not support real-time updates"),(0,r.yg)("li",{parentName:"ul"},"Can obtain configuration from the HTTP interface of Inlong Manager, supporting real-time updates")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Parameter"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"Types"),(0,r.yg)("th",{parentName:"tr",align:null},"DefaultValue"),(0,r.yg)("th",{parentName:"tr",align:null},"Remark"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"clusterName"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"String"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"inlong-sort-standalone cluster unique identifier")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortTasks"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"JsonArray","<","SortTaskConfig",">"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Sort task list")))),(0,r.yg)("h3",{id:"configuration-for-sorttaskconfig"},"Configuration For SortTaskConfig"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Parameter"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"DefaultValue"),(0,r.yg)("th",{parentName:"tr",align:null},"Remark"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"name"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Sort task name")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"type"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Sort assignment type, like: ",(0,r.yg)("inlineCode",{parentName:"td"},'HIVE("hive")'),", ",(0,r.yg)("inlineCode",{parentName:"td"},'TUBE("tube")'),", ",(0,r.yg)("inlineCode",{parentName:"td"},'KAFKA("kafka")'),", ",(0,r.yg)("inlineCode",{parentName:"td"},'PULSAR("pulsar")'),', ElasticSearch("ElasticSearch"), UNKNOWN("n")')),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"idParams"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Inlong data stream parameter list")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sinkParams"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Sort task parameters")))),(0,r.yg)("h3",{id:"idparams-configuration-for-sort-hive-task"},"IdParams Configuration For Sort-Hive Task"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Parameter"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"DefaultValue"),(0,r.yg)("th",{parentName:"tr",align:null},"Remark"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"inlongGroupId"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"inlongGroupId")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"inlongStreamId"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"inlongStreamId")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"separator"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Delimiter")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"partitionIntervalMs"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"3600000"),(0,r.yg)("td",{parentName:"tr",align:null},"Partition interval, in milliseconds")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"idRootPath"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"HDFS root directory of Inlong data stream")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"partitionSubPath"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Partition subdirectories for inlong data streams")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"hiveTableName"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Hive table name of the Inlong data stream")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"partitionFieldName"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"dt"),(0,r.yg)("td",{parentName:"tr",align:null},"Partition field name of the Inlong data stream")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"partitionFieldPattern"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"The partition field value format of the Inlong data stream, such as ",(0,r.yg)("inlineCode",{parentName:"td"},"{yyyyMMdd}"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"{yyyyMMddHH}"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"{yyyyMMddHHmm}"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"msgTimeFieldPattern"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"The field value format of the message generation time, Java time format")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"maxPartitionOpenDelayHour"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"8"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum opening delay time of the partition, in hours")))),(0,r.yg)("h3",{id:"sinkparams-configuration-for-sort-hive-task"},"SinkParams Configuration For Sort-Hive Task"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Parameter"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"DefaultValue"),(0,r.yg)("th",{parentName:"tr",align:null},"Remark"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"hdfsPath"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"HDFS nameNode")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"maxFileOpenDelayMinute"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"5"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum write time of a single HDFS file, in minutes")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"tokenOvertimeMinute"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"60"),(0,r.yg)("td",{parentName:"tr",align:null},"The maximum time it takes to create a token for a partition of a single Inlong data stream, in minutes")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"maxOutputFileSizeGb"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"2"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum size of a single HDFS file, in GB")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"hiveJdbcUrl"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Hive JDBC Path")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"hiveDatabase"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Hive Database")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"hiveUsername"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Hive Username")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"hivePassword"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Hive Password")))),(0,r.yg)("h2",{id:"sid_hive_inlong6th_v3conf-configuration-for-sort-hive-task"},(0,r.yg)("inlineCode",{parentName:"h2"},"sid_hive_inlong6th_v3.conf")," Configuration For Sort-Hive Task"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"File name format: Sort task name + ",(0,r.yg)("inlineCode",{parentName:"li"},".conf"),"."),(0,r.yg)("li",{parentName:"ul"},"Can read from the SortClusterConfig.conf source file in the ClassPath, but does not support live updates."),(0,r.yg)("li",{parentName:"ul"},"Can be obtained from the HTTP interface of Inlong Manager, which supports real-time updates.")),(0,r.yg)("h3",{id:"configuration-for-sid_hive_inlong6th_v3conf"},"Configuration For sid_hive_inlong6th_v3.conf"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Parameter"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"DefaultValue"),(0,r.yg)("th",{parentName:"tr",align:null},"Remark"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortClusterName"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"String"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"inlong-sort-standalone Unique identifier of the cluster")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"sortTaskId"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"String"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Sort task name")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"cacheZones"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"JsonObject","<","String, JsonObject",">"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Cache layer cluster list, format: Map","<","cacheClusterName, CacheCluster",">")))),(0,r.yg)("h3",{id:"configuration-for-cachecluster"},"Configuration For CacheCluster"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Parameter"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"DefaultValue"),(0,r.yg)("th",{parentName:"tr",align:null},"Remark"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"zoneName"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"String"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Cache layer cluster name")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"zoneType"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"String"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Cache type: ","[pulsar,tube,kafka]")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"serviceUrl"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"String"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Pulsar's serviceUrl parameter, or Kafka's Broker list")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"authentication"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"String"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Pulsar Authentication")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"cacheZoneProperties"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"Map","<","String,String",">"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Cache layer Consumer parameters")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"topics"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"List","<","Topic",">"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"List of topics consumed by the cache layer")))),(0,r.yg)("h3",{id:"configuration-for-topic"},"Configuration For Topic"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Parameter"),(0,r.yg)("th",{parentName:"tr",align:null},"Required"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"DefaultValue"),(0,r.yg)("th",{parentName:"tr",align:null},"Remark"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"topic"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"String"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Topic full name, Pulsar: tenant/namespace/topic")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"partitionCnt"),(0,r.yg)("td",{parentName:"tr",align:null},"Y"),(0,r.yg)("td",{parentName:"tr",align:null},"Integer"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Number of Topic Partitions")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"topicProperties"),(0,r.yg)("td",{parentName:"tr",align:null},"N"),(0,r.yg)("td",{parentName:"tr",align:null},"Map","<","String,String",">"),(0,r.yg)("td",{parentName:"tr",align:null},"NA"),(0,r.yg)("td",{parentName:"tr",align:null},"Consumer parameters of cache layer topics")))),(0,r.yg)("h2",{id:"start-inlong-sort-standalone-application"},"Start inlong-sort-standalone Application"),(0,r.yg)("p",null,"Finally, execute the script ",(0,r.yg)("inlineCode",{parentName:"p"},"./bin/sort-start.sh")," to start the sort-standalone application.\nYou can then check the log file sort.log to confirm the startup status."))}u.isMDXComponent=!0}}]);